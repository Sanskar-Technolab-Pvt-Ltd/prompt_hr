{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-05-12 17:48:14.232496",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Employee Promotion",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "{% macro format_ordinal_date(d) -%}\n    {%- if d %}\n    {% set d = frappe.utils.getdate(d) %}\n        {%- set day = d.day %}\n        {%- set month = frappe.utils.formatdate(d, \"MMM\") %}\n        {%- set year = d.year %}\n        {{ day }}\n        {%- if day in [1, 21, 31] -%}<sup>st</sup>\n        {%- elif day in [2, 22] -%}<sup>nd</sup>\n        {%- elif day in [3, 23] -%}<sup>rd</sup>\n        {%- else -%}<sup>th</sup>\n        {%- endif -%}\n        -{{ month }}-{{ year }}\n    {%- endif %}\n{%- endmacro %}\n{% set employee = frappe.get_doc(\"Employee\",doc.employee)%}\n{% set promoted_designation = frappe.get_all(\"Employee Property History\", \n    filters={\"parent\": doc.name, \"property\": \"Designation\"}, \n    fields=[\"name\", \"current\", \"new\"]) %}\n<p>Date: {{ format_ordinal_date(frappe.utils.nowdate()) }}</p>\n<p>Ref No :  {{ doc.name }}</p>\n<p>    Emp. Name: {{ employee.employee_name }}</p>\n<p>Employee No: {{employee.employee_number}}</p>\n    <p> Department: {{ employee.department }}\n</p>\n\n<h3 style=\"text-align: center;\"><u>Promotion Letter</u></h3>\n\n<p>Dear {{ doc.employee_name }},</p><br>\n<p>Congratulations!</p>\n<br>\n<p>\n    In recognition of your contribution to the growth story of IndiFOSS in the past few years, it is a great\npleasure to inform you that you have been promoted to the position of {% if promoted_designation %}\n{% if promoted_designation[0].current != promoted_designation[0].new %}\n<b>{{promoted_designation[0].new or employee.designation}}</b> from {{promoted_designation[0].current or employee.designation}}\n{% endif %}\n{% endif %}<b>effective from {{format_ordinal_date(doc.promotion_date)}}</b>\n</p>\n<br>\n<p>\n    We are confident enough that you will be able to grow personally and would be able to contribute with the\nsame zeal, passion, and vigor for our future growth. Your dedication, commitment, and integrity are highly\nappreciated.\n</p>\n<br>\n<p>\n    Once again, Hearty Congratulations on a job well done and we wish you all the success for your future\nendeavor with IndiFOSS.\n</p>\n<br>\n<p>With Best Regards,</p>\n<p>For, {{ doc.company }}</p>\n\n{# Find HR Manager Name #}\n{% set ns = namespace(hr_manager=\"\") %}\n{% if doc.company %}\n    {% set users = frappe.get_all(\"Employee\", filters={\"user_id\": [\"!=\", \"\"], \"company\": doc.company, \"status\": \"Active\"}, fields=[\"user_id\", \"employee_name\"]) %}\n    {% for user in users %}\n        {% set roles = frappe.get_all(\"Has Role\", filters={\"role\": \"HR Manager\", \"parent\": user.user_id}) %}\n        {% if roles and not ns.hr_manager %}\n            {% set ns.hr_manager = user.employee_name %}\n        {% endif %}\n    {% endfor %}\n{% endif %}\n\n<br\n<p>{% set signatory_doc = frappe.get_all(\"Signature Directory\", filters={\"company\": doc.company}, fields=[\"name\"]) %}\n        {% if signatory_doc %}\n            {% set signature_details = frappe.get_all(\"Signature Details\", filters={\"parent\": signatory_doc[0].name, \"role\": \"HR Manager\"}, fields=[\"name\", \"upload_signature\"]) %}\n            {% if signature_details and signature_details[0].upload_signature %}\n               \n                    <img src=\"{{ frappe.utils.get_url(signature_details[0].upload_signature) }}\"\n                         alt=\"HR Manager Signature\"\n                         style=\"width: 30% !important; height: auto !important;\">\n\n            {% endif %}\n        {% endif %}</p>\n        <p>Authorized Signatories Sign</p>\n<p>\n    {{ns.hr_manager}}  <br>\nHR Manager\n</p>\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-05-12 19:09:40.713186",
 "modified_by": "Administrator",
 "module": "Prompt HR",
 "name": "Promotion Letter - Indifoss",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}