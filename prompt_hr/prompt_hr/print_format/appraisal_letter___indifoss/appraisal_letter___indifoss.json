{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-05-13 17:45:28.723571",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Appraisal",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "<div style=\"font-family: Arial, sans-serif; font-size: 12px;\">\n    {% set employee = frappe.get_doc(\"Employee\", doc.employee)%}\n    <div style=\"margin-bottom: 20px;\">\n        <div>Date: {{ doc.date or frappe.utils.today() }}</div>\n        <div>{{ \"doc.serial_no\" }}</div>\n        <div>Employee Name: {{ doc.employee_name or \"\"}}</div>\n        <div>Employee ID: {{ employee.employee_number or \"\" }}</div>\n        <div>Designation: {% if doc.designation %}\n                {{ frappe.db.get_value(\"Designation\",doc.designation,\"designation_name\") or \"\" }}\n                {% endif %}</div>\n        <div>Department: {% if employee.department %}\n                {{ frappe.db.get_value(\"Department\",employee.department,\"department_name\") or \"\" }}\n                {% endif %}</div>\n    </div>\n\n    <div style=\"font-weight: bold; text-align: center; text-decoration: underline; margin-bottom: 20px;\">\n        Appraisal Letter {{ frappe.format_date(frappe.utils.nowdate(),\"yyyy\") }}\n    </div>\n<br>\n    <p>\n        Dear {{ employee.salutation or \"Mr/Ms\" }} {{ doc.employee_name }},\n    </p>\n    <br>\n    <p>\n        {% set start_date = frappe.get_doc(\"Appraisal Cycle\",doc.appraisal_cycle).start_date %}\n        The year {{ frappe.format_date(start_date,\"yyyy\") or \"\"}} had been eventful and challenging for all of us in {{ doc.company }}.\n        We all had met the huge challenges of scaling up our business and growing our bottom line.\n        In recognition of your performance and contribution to the organization during the performance evaluation year {{ frappe.format_date(start_date,\"yyyy\") or \"\" }},\n        your effective increment would be {{  \"${sel_payroll_percentage}\" }}%. The break of your increment % is as follows:\n    </p>\n<br>\n<br>\n\n    <table style=\"width: 80%; border-collapse: collapse; margin: auto;\">\n        <tr>\n            <th style=\"border: 1px solid #000; padding: 6px 8px; text-align: center;font-weight:bold;color:black;\">Type</th>\n            <th style=\"border: 1px solid #000; padding: 6px 8px; text-align: center;font-weight:bold;color:black;\">Performance Hike</th>\n            <th style=\"border: 1px solid #000; padding: 6px 8px; text-align: center;font-weight:bold;color:black;\">{{ doc.text2 or \"Other Hike\" }}</th>\n            <th style=\"border: 1px solid #000; padding: 6px 8px; text-align: center;font-weight:bold;color:black;\">Total Increment Effect</th>\n        </tr>\n        <tr>\n            <td style=\"border: 1px solid #000; padding: 6px 8px; text-align: center;\">%age</td>\n            <td style=\"border: 1px solid #000; padding: 6px 8px; text-align: center;\">{{ \"${percentage1}\" }}%</td>\n            <td style=\"border: 1px solid #000; padding: 6px 8px; text-align: center;\">{{ \"${percentage2}\" }}%</td>\n            <td style=\"border: 1px solid #000; padding: 6px 8px; text-align: center;\">{{ \"${sel_payroll_percentage}\" }}%</td>\n        </tr>\n    </table>\n    <p>\n        Further, the summary of your annual compensation w.e.f. {{frappe.format_date(start_date)}},  for the following fiscal year will be as follows.\n    </p>\n\n    <table style=\"width: 100%; border-collapse: collapse; margin: 20px 0;\">\n        <tr>\n            <th style=\"border: 1px solid #000; padding: 6px 8px;text-align: center;font-weight:bold;color:black;\">Component</th>\n            <th style=\"border: 1px solid #000; padding: 6px 8px;text-align: center;font-weight:bold;color:black;\">Annual CTC</th>\n            <th style=\"border: 1px solid #000; padding: 6px 8px;text-align: center;font-weight:bold;color:black;\">Monthly CTC</th>\n            <th style=\"border: 1px solid #000; padding: 6px 8px;text-align: center;font-weight:bold;color:black;\">Monthly Gross</th>\n        </tr>\n        <tr>\n            <td style=\"border: 1px solid #000; padding: 6px 8px; text-align: left;\">{{ \"As on March 2023\"}}</td>\n            <td style=\"border: 1px solid #000; padding: 6px 8px; text-align: left;\">{{ \"${prev_master_annual_ctc}\" }}</td>\n            <td style=\"border: 1px solid #000; padding: 6px 8px; text-align: left;\">{{ \"${prev_master_mon_ctc}\"}}</td>\n            <td style=\"border: 1px solid #000; padding: 6px 8px; text-align: left;\">{{ \"${prev_master_monthly_ctc}\" }}</td>\n        </tr>\n        <tr>\n            <td style=\"border: 1px solid #000; padding: 6px 8px; text-align: left;\">{{ \"Effective from April 2024\"}}</td>\n            <td style=\"border: 1px solid #000; padding: 6px 8px; text-align: left;\">{{ \"${sel_payroll_annual_ctc}\" }}</td>\n            <td style=\"border: 1px solid #000; padding: 6px 8px; text-align: left;\">{{ \"${sel_payroll_mon_ctc}\"}}</td>\n            <td style=\"border: 1px solid #000; padding: 6px 8px; text-align: left;\">{{ \"${sel_payroll_monthly_ctc}\" }}</td>\n        </tr>\n\n    </table>\n\n    <p>\n        The detailed breakup of your revised CTC will be as per the attached annexure herewith. All the terms and conditions of your employment as stipulated in your appointment letter or subsequent modifications thereof remain unchanged and will be governed by the company\u2019s HR policies prevalent at the time.   \n\n    </p>\n<br>\n<p><u><b>Confidentiality</b></u></p>\n<br>\n<p>Please note that your compensation package is unique to you and not for comparison with other employees of the company. The matter of your compensation is confidential information of the company. Any discussion or disclosure of your compensation with anybody other than your <b>departmental head or HR</b> will be considered as breach of confidentiality by you.\n</p>\n<br>\n<p>\n    We hope that you will continue to meet all challenges that we will offer you in the coming year and contribute substantially to the success of our organization as you have done in the past and fully justify the confidence placed in you by the management.  \n</p>\n<br>\n<b> With best wishes,\n</b>\n<br>\n<br>\n<br>\n<br>\n<p>${signatory}</p>\n<p>${signatoryDesignation}</p>\n\n</div>\n\n<br>\n <table style=\"width:100%; border-collapse:collapse; font-size:12px; border:1px solid #000;page-break-before: always; !important;\">\n    <thead> <tr>\n        <td colspan=\"4\" style=\"text-align:center; font-weight:bold; font-size:16px; border:1px solid #000;\">CTC ANNEXURE</td>\n    </tr></thead>\n   \n    <tr>\n        <td colspan=\"2\" style=\"border:1px solid #000;text-align:center;\">\n            <b>Name:</b> {{employee.employee_name or \"\"}}\n            \n        </td>\n        <td colspan=\"2\" style=\"border:1px solid #000;text-align:center;\"><b>Department:</b> {% if employee.department %}\n                {{ frappe.db.get_value(\"Department\",employee.department,\"department_name\") or \"\" }}\n                {% endif %}\n            \n    </tr>\n    <tr>\n        <td width=\"30%\" colspan=\"2\" style=\"border:1px solid #000;text-align:center;\">\n            \n            <b>Designation:</b> {% if employee.designation %}\n                {{ frappe.db.get_value(\"Designation\",employee.designation,\"designation_name\") or \"\" }}\n                {% endif %}\n        </td>\n        <td width=\"70%\" colspan=\"2\" style=\"border:1px solid #000;text-align:center;\">\n            \n            <b>Location:</b>{% if employee.custom_work_location%} {{ frappe.db.get_value(\"Address\",employee.custom_work_location,\"address_title\") }}{%endif %}\n        </td>\n        \n    </tr>\n\n<tr>\n        <th style=\"border:1px solid #000; padding:8px 10px; background:#f2f2f2;\"></th>\n        <th style=\"border:1px solid #000; padding:8px 10px; background:#f2f2f2;\">Component</th>\n        <th style=\"border:1px solid #000; padding:8px 10px; background:#f2f2f2;\">Monthly</th>\n        <th style=\"border:1px solid #000; padding:8px 10px; background:#f2f2f2;\">Annual</th>\n    </tr>\n    {% set annexure_groups = {\n        \"Basic Component\": [],\n        \"Employee's Contribution\": [],\n        \"Other Benefits (company & Contribution)\": [],\n        \"Variables\": []\n    } %}\n\n    {% set total_labels = {\n        \"Basic Component\": \"Gross Salary\",\n        \"Employee's Contribution\": \"Net Salary(A-B)\",\n        \"Other Benefits (company & Contribution)\": \"Total Employer's Contribution(C)\",\n        \"Variables\": \"Total Variables (D)\"\n    } %}\n\n    {% macro alpha(idx) %}\n        {{ 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'[idx] }}\n    {% endmacro %}\n\n    {# Group items by annexure type #}\n    {% for item in (doc.custom_earnings + doc.custom_deductions) %}\n        {% set comp_doc = frappe.get_doc(\"Salary Component\", item.salary_component) %}\n        {% set annexure_type = comp_doc.custom_annexure_type or \"Variables\" %}\n        {% if annexure_groups[annexure_type] is defined %}\n            {% set _ = annexure_groups[annexure_type].append(item) %}\n        {% endif %}\n    {% endfor %}\n\n    {# Always render \"Basic Component\" first as 'A' #}\n    {% set basic_components = annexure_groups[\"Basic Component\"] %}\n    {% set basic_total = basic_components | sum(attribute='amount') %}\n    {% if basic_components|length == 0 %}\n        <tr>\n            <td rowspan=\"2\" style=\"border:1px solid #000; padding:8px 10px;\">\n                <b>(A)</b> Basic Component\n            </td>\n            <td style=\"border:1px solid #000; padding:8px 10px;height:20px;\"></td>\n            <td style=\"border:1px solid #000; padding:8px 10px;\"></td>\n            <td style=\"border:1px solid #000; padding:8px 10px;\"></td>\n        </tr>\n        <tr>\n            <td style=\"border:1px solid #000; padding:8px 10px;\"><b>Gross Salary</b></td>\n            <td style=\"border:1px solid #000; padding:8px 10px;\">0.00</td>\n            <td style=\"border:1px solid #000; padding:8px 10px;\">0.00</td>\n        </tr>\n    {% else %}\n        {% for row in basic_components %}\n            <tr>\n                {% if loop.first %}\n                    <td rowspan=\"{{ (basic_components | length)+1 }}\" style=\"border:1px solid #000; padding:8px 10px;\">\n                        <b>(A) Basic Component</b> \n                    </td>\n                {% endif %}\n                <td style=\"border:1px solid #000; padding:8px 10px;\">{{ row.salary_component }}</td>\n                <td style=\"border:1px solid #000; padding:8px 10px;\">{{ row.amount | round(2) }}</td>\n                <td style=\"border:1px solid #000; padding:8px 10px;\">{{ (row.amount * 12) | round(2) }}</td>\n            </tr>\n        {% endfor %}\n        <tr>\n            <td style=\"border:1px solid #000; padding:8px 10px;\"><b>Gross Salary</b></td>\n            <td style=\"border:1px solid #000; padding:8px 10px;\"><b>{{ basic_total | round(2) }}</b></td>\n            <td style=\"border:1px solid #000; padding:8px 10px;\"><b>{{ (basic_total * 12) | round(2) }}</b></td>\n        </tr>\n    {% endif %}\n\n    {# Render other annexure groups except \"Other Variables\" #}\n    {% set ns = namespace(idx=1) %}\n    {% for annexure_type, components in annexure_groups.items() %}\n        {% if annexure_type not in [\"Basic Component\", \"Variables\"] and components|length > 0 %}\n            {% set group_total = components | sum(attribute='amount') %}\n            {% for row in components %}\n                <tr>\n                    {% if loop.first %}\n                        <td rowspan=\"{{ (components | length)+1 }}\" style=\"border:1px solid #000; padding:8px 10px;\">\n                            <b>({{ alpha(ns.idx) }}) {{ annexure_type }}</b> \n                        </td>\n                    {% endif %}\n                    <td style=\"border:1px solid #000; padding:8px 10px;\">{{ row.salary_component }}</td>\n                    <td style=\"border:1px solid #000; padding:8px 10px;\">{{ row.amount | round(2) }}</td>\n                    <td style=\"border:1px solid #000; padding:8px 10px;\">{{ (row.amount * 12) | round(2) }}</td>\n                </tr>\n            {% endfor %}\n            <tr>\n                <td style=\"border:1px solid #000; padding:8px 10px;\"><b>{{ total_labels[annexure_type] }}</b></td>\n                <td style=\"border:1px solid #000; padding:8px 10px;\"><b>{{ group_total | round(2) }}</b></td>\n                <td style=\"border:1px solid #000; padding:8px 10px;\"><b>{{ (group_total * 12) | round(2) }}</b></td>\n            </tr>\n            {% set ns.idx = ns.idx + 1 %}\n        {% endif %}\n    {% endfor %}\n\n    {# CTC Row #}\n    <tr>\n        <td style=\"border:1px solid #000; padding:8px 10px;\"><b>(D) CTC</b></td>\n        <td style=\"border:1px solid #000; padding:8px 10px;\"><b>Cost to Company (A+C)</b></td>\n        <td style=\"border:1px solid #000; padding:8px 10px;\"><b>{{ doc.custom_monthly_salary | round(2) }}</b></td>\n        <td style=\"border:1px solid #000; padding:8px 10px;\"><b>{{ (doc.custom_monthly_salary * 12) | round(2) }}</b></td>\n    </tr>\n\n    {# Render \"Other Variables\" last #}\n    <tr>\n        <td colspan=\"4\" style=\"text-align:center;\"><b>Variables</b></td>\n    </tr>\n    {% set other_variables = annexure_groups[\"Variables\"] %}\n    {% if other_variables|length > 0 %}\n        {% set group_total = other_variables | sum(attribute='amount') %}\n        {% for row in other_variables %}\n            <tr>\n               \n                <td colspan=\"2\" style=\"border:1px solid #000; padding:8px 10px;\"><b>{{ row.salary_component }}</b></td>\n                <td style=\"border:1px solid #000; padding:8px 10px;\"><b>{{ row.amount | round(2) }}</b></td>\n                <td style=\"border:1px solid #000; padding:8px 10px;\"><b>{{ (row.amount * 12) | round(2) }}</b></td>\n            </tr>\n        {% endfor %}\n        <tr>\n            <td colspan=\"2\" style=\"border:1px solid #000; padding:8px 10px;\"><b>{{ total_labels[\"Variables\"] }}</b></td>\n            <td style=\"border:1px solid #000; padding:8px 10px;\"><b>{{ group_total | round(2) }}</b></td>\n            <td style=\"border:1px solid #000; padding:8px 10px;\"><b>{{ (group_total * 12) | round(2) }}</b></td>\n        </tr>\n    {% endif %}\n\n</table>\n\n<table style=\"width: 100%; margin-top: 50px;\">\n            <tr>\n                <td style=\"padding-left:0px !important;margin-left:0px;width: 50%;\"><strong>For {{doc.company}}</strong></td>\n                <td style=\"width: 50%;\"><strong>Accepted On</strong> _______________________</td>\n            </tr>\n            <tr>\n                <td style=\"padding-left:0px !important;margin-left:0px;padding-top: 40px;\"><strong>{{\" doc.signatory \"or '' }}</strong></td>\n                <td></td>\n            </tr>\n            <tr>\n                <td style=\"padding-left:0px !important;\"><strong>{{ \"doc.signatory_designation\" or '' }}</strong></td>\n                <td><b>Employee Sign:</b> ___________________________</td>\n            </tr>\n        </table>\n<p>Please sign and return the duplicate copy in token as a receipt of letter for HR records.\n</p>",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-06-11 15:57:36.164609",
 "modified_by": "Administrator",
 "module": "Prompt HR",
 "name": "APPRAISAL LETTER - Indifoss",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}