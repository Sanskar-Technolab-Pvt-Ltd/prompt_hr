import{s as S,x as h,i as z,o as x,V as M,a0 as L,a as U,A as q,u as w,d as r,e as i,f as l,j as m,h as g,k as e,g as n,O as $,m as D,n as T,t as c,_ as B,p as d,F as f,v as E}from"./index-OSkjyhkw.js";import{_ as N}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-DdVHL6EX.js";const Q={class:"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5"},C={class:"space-x-2"},H={key:0,class:"w-1/2 mx-auto py-5 space-y-5"},j={class:"text-xl font-semibold text-ink-gray-9"},P={class:"space-y-4 border p-5 rounded-md"},A={class:"grid grid-cols-2 gap-5"},F={class:"grid grid-cols-2 gap-5"},K={class:"border p-5 rounded-md space-y-4"},R={class:"flex items-start space-x-1 font-semibold text-ink-gray-9"},I=["innerHTML"],O={class:"leading-5 text-ink-gray-7 space-x-1"},G=["innerHTML"],J={class:"grid grid-cols-2 gap-5"},ee={__name:"QuizSubmission",props:{submission:{type:String,required:!0}},setup(V){const{brand:v}=S(),y=h(),_=z("$user");x(()=>{var s,o;!((s=_.data)!=null&&s.is_instructor)&&!((o=_.data)!=null&&o.is_moderator)&&y.push({name:"Courses"}),window.addEventListener("keydown",p)}),M(()=>{window.removeEventListener("keydown",p)});const p=s=>{s.key==="s"&&(s.ctrlKey||s.metaKey)&&!s.target.classList.contains("ProseMirror")&&(b(),s.preventDefault())},a=L({doctype:"LMS Quiz Submission",name:V.submission,auto:!0}),k=U(()=>[{label:__("Quiz Submissions"),route:{name:"QuizSubmissionList",params:{quizID:a.doc.quiz}}},{label:a.doc.quiz_title}]),b=()=>{a.save.submit({},{onError(s){var o;q(__("Error"),__(((o=s.messages)==null?void 0:o[0])||s),"x")}})};return w(()=>({title:`${a.doc.quiz_title}`,icon:v.favicon})),(s,o)=>(i(),r(f,null,[l("header",Q,[e(a).doc?(i(),g(e(N),{key:0,items:k.value},null,8,["items"])):m("",!0),l("div",C,[e(a).isDirty?(i(),g(e($),{key:0,label:s.__("Not Saved"),variant:"subtle",theme:"orange"},null,8,["label"])):m("",!0),n(e(B),{variant:"solid",onClick:o[0]||(o[0]=t=>b())},{default:D(()=>[T(c(s.__("Save")),1)]),_:1})])]),e(a).doc?(i(),r("div",H,[l("div",j,c(e(a).doc.member_name),1),l("div",P,[l("div",A,[n(e(d),{modelValue:e(a).doc.quiz_title,"onUpdate:modelValue":o[1]||(o[1]=t=>e(a).doc.quiz_title=t),label:s.__("Quiz"),disabled:!0},null,8,["modelValue","label"]),n(e(d),{modelValue:e(a).doc.member_name,"onUpdate:modelValue":o[2]||(o[2]=t=>e(a).doc.member_name=t),label:s.__("Member"),disabled:!0},null,8,["modelValue","label"])]),l("div",F,[n(e(d),{modelValue:e(a).doc.score,"onUpdate:modelValue":o[3]||(o[3]=t=>e(a).doc.score=t),label:s.__("Score"),disabled:!0},null,8,["modelValue","label"]),n(e(d),{modelValue:e(a).doc.percentage,"onUpdate:modelValue":o[4]||(o[4]=t=>e(a).doc.percentage=t),label:s.__("Percentage"),disabled:!0},null,8,["modelValue","label"])])]),(i(!0),r(f,null,E(e(a).doc.result,(t,X)=>(i(),r("div",K,[l("div",R,[l("span",{class:"leading-5",innerHTML:t.question},null,8,I)]),l("div",O,[l("span",null,c(s.__("Answer"))+": ",1),l("span",{innerHTML:t.answer},null,8,G)]),l("div",J,[n(e(d),{modelValue:t.marks,"onUpdate:modelValue":u=>t.marks=u,label:s.__("Marks")},null,8,["modelValue","onUpdate:modelValue","label"]),n(e(d),{modelValue:t.marks_out_of,"onUpdate:modelValue":u=>t.marks_out_of=u,label:s.__("Marks out of"),disabled:!0},null,8,["modelValue","onUpdate:modelValue","label"])])]))),256))])):m("",!0)],64))}};export{ee as default};
