import{i as V,d as _,e as c,f as e,t as l,g as s,m as o,n as f,k as t,O as g,r as b,s as C,o as N,y as P,a as S,u as B,b as O,h as $,j as z,_ as L,P as U,bH as D,p as F,F as M,v as R,aA as q}from"./index-OSkjyhkw.js";import{_ as A}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-DdVHL6EX.js";const E={class:"border rounded-md p-4"},H={class:"flex space-x-4"},I=["src"],Q={class:"flex flex-col space-y-1 flex-1"},G={class:"flex items-center justify-between"},K={class:"text-lg font-semibold text-ink-gray-9"},W={class:"text-xs text-ink-gray-5"},X={class:"space-x-4 mt-2"},Y={__name:"JobCard",props:{job:{type:Object,default:null}},setup(n){const v=V("$dayjs");return(r,x)=>(c(),_("div",E,[e("div",H,[e("img",{src:n.job.company_logo,class:"size-10 rounded-full object-contain"},null,8,I),e("div",Q,[e("div",G,[e("span",K,l(n.job.job_title),1)]),e("div",W,l(n.job.company_name),1)])]),e("div",X,[s(t(g),null,{default:o(()=>[f(l(n.job.location),1)]),_:1}),s(t(g),null,{default:o(()=>[f(l(n.job.type),1)]),_:1}),s(t(g),null,{default:o(()=>[f(l(t(v)(n.job.creation).fromNow()),1)]),_:1})])]))}},Z={class:""},ee={class:"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5"},te={key:0,class:"p-5"},se={class:"flex flex-col lg:flex-row space-y-4 lg:space-y-0 lg:items-center justify-between mb-5"},ae={class:"text-xl text-ink-gray-9 font-semibold"},le={class:"grid grid-cols-2 gap-2"},oe={class:"grid grid-cols-1 lg:grid-cols-3 gap-5"},ne={key:1,class:"flex flex-col items-center justify-center text-sm text-ink-gray-5 mt-48"},ie={class:"text-lg font-medium mb-1"},ce={class:"leading-5 w-2/5 text-center"},ue={__name:"Jobs",setup(n){const v=V("$user"),r=b(null),{brand:x}=C(),d=b(""),u=b({}),h=b({});N(()=>{let a=new URLSearchParams(location.search);a.has("type")&&(r.value=a.get("type")),y()});const m=P({url:"lms.lms.api.get_job_opportunities",cache:["jobs"]}),y=()=>{J(),m.update({params:{filters:u.value,orFilters:h.value}}),m.reload()},J=()=>{u.value.status="Open",u.value.disabled=0,r.value?u.value.type=r.value:delete u.value.type,d.value?h.value={job_title:["like",`%${d.value}%`],company_name:["like",`%${d.value}%`],location:["like",`%${d.value}%`]}:h.value={}},T=S(()=>["",{label:__("Full Time"),value:"Full Time"},{label:__("Part Time"),value:"Part Time"},{label:__("Contract"),value:"Contract"},{label:__("Freelance"),value:"Freelance"}]);return B(()=>({title:__("Jobs"),icon:x.favicon})),(a,p)=>{var k,w;const j=O("router-link");return c(),_("div",Z,[e("header",ee,[s(t(A),{class:"h-7",items:[{label:a.__("Jobs"),route:{name:"Jobs"}}]},null,8,["items"]),(k=t(v).data)!=null&&k.name?(c(),$(j,{key:0,to:{name:"JobCreation",params:{jobName:"new"}}},{default:o(()=>[s(t(L),{variant:"solid"},{prefix:o(()=>[s(t(U),{class:"h-4 w-4"})]),default:o(()=>[f(" "+l(a.__("New Job")),1)]),_:1})]),_:1})):z("",!0)]),e("div",null,[(w=t(m).data)!=null&&w.length?(c(),_("div",te,[e("div",se,[e("div",ae,l(a.__("Find the perfect job for you")),1),e("div",le,[s(t(F),{type:"text",placeholder:a.__("Search"),modelValue:d.value,"onUpdate:modelValue":p[0]||(p[0]=i=>d.value=i),class:"min-w-40 lg:min-w-0 lg:w-32 xl:w-40",onInput:y},{prefix:o(()=>[s(t(D),{class:"w-4 h-4 stroke-1.5 text-ink-gray-5",name:"search"})]),_:1},8,["placeholder","modelValue"]),s(t(F),{modelValue:r.value,"onUpdate:modelValue":p[1]||(p[1]=i=>r.value=i),type:"select",options:T.value,class:"min-w-40 lg:min-w-0 lg:w-32 xl:w-40",placeholder:a.__("Type"),onChange:y},null,8,["modelValue","options","placeholder"])])]),e("div",oe,[(c(!0),_(M,null,R(t(m).data,i=>(c(),$(j,{to:{name:"JobDetail",params:{job:i.name}},key:i.name},{default:o(()=>[s(Y,{job:i},null,8,["job"])]),_:2},1032,["to"]))),128))])])):(c(),_("div",ne,[s(t(q),{class:"size-10 mx-auto stroke-1 text-ink-gray-4"}),e("div",ie,l(a.__("No jobs found")),1),e("div",ce,l(a.__("There are no jobs available at the moment. Open a job opportunity or check here again later.")),1)]))])])}}};export{ue as default};
