import{i as b,d,e as r,b6 as m,f as u,h as f,j as h,t as z,k as t,a7 as _,_ as T,r as N,a as g,e8 as q,b7 as k,b8 as S,L as $,be as M,e9 as V,F as L,v as H,au as U,m as A,ab as j,N as D,a5 as F,g as C,n as I,aM as P,dU as X,H as Z,w as J,bp as Q}from"./index-OSkjyhkw.js";const Y={class:"flex h-full w-full flex-col items-center justify-center text-base"},ee={class:"text-xl font-medium"},te={class:"mt-1 text-base text-ink-gray-5"},se={__name:"ListEmptyState",setup(o){const s=b("list");return(e,l)=>(r(),d("div",Y,[m(e.$slots,"default",{},()=>[u("div",ee,z(t(s).options.emptyState.title),1),u("div",te,z(t(s).options.emptyState.description),1),t(s).options.emptyState.button?(r(),f(t(T),_({key:0},t(s).options.emptyState.button,{class:"mt-4"}),null,16)):h("",!0)])]))}};function B(o,s=!0){let e=s?"14px ":"",l=o.map(n=>{let i=n.width||1;return typeof i=="number"?i+"fr":i}).join(" ");return e+l}const O={left:"justify-start",start:"justify-start",center:"justify-center",middle:"justify-center",right:"justify-end",end:"justify-end"},oe={class:"truncate"},le={__name:"ListHeaderItem",props:{item:{type:Object,required:!0},debounce:{type:Number,default:1e3}},emits:["columnWidthUpdated"],setup(o,{emit:s}){const e=o,l=s,n=N(null),i=N(null),v=g(()=>{if(typeof e.item.width=="string"){const c=parseInt(e.item.width);if(e.item.width.includes("rem"))return c*16;if(e.item.width.includes("px"))return c}return i.value.offsetWidth}),w=c=>{const W=c.clientX,K=v.value,a=x=>{document.body.classList.add("select-none"),document.body.classList.add("cursor-col-resize"),n.value.style.backgroundColor="rgb(199 199 199)";let E=K+(x.clientX-W);e.item.width=`${E<50?50:E}px`,R(e.item.width)},y=()=>{document.body.classList.remove("select-none"),document.body.classList.remove("cursor-col-resize"),n.value.style.backgroundColor="",window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",y)};window.addEventListener("mousemove",a),window.addEventListener("mouseup",y)},R=q(c=>{e.item.width=c,l("columnWidthUpdated")},e.debounce),p=b("list");return(c,W)=>(r(),d("div",{ref_key:"columnRef",ref:i,class:$(["group relative flex items-center",o.item.align?t(O)[o.item.align]:"justify-between"])},[u("div",{class:$(["flex items-center space-x-2 truncate text-sm text-ink-gray-5",c.$attrs.class])},[m(c.$slots,"prefix",k(S({item:o.item}))),m(c.$slots,"default",{},()=>[u("div",oe,z(o.item.label),1)]),m(c.$slots,"suffix",k(S({item:o.item})))],2),t(p).options.resizeColumn?m(c.$slots,"resizer",k(_({key:0},{item:o.item})),()=>[u("div",{class:"flex h-4 absolute -right-2 w-2 cursor-col-resize justify-center",onMousedown:w},[u("div",{ref_key:"resizer",ref:n,class:"h-full w-[2px] rounded-full transition-all duration-300 ease-in-out group-hover:bg-gray-400"},null,512)],32)]):h("",!0)],2))}},re={__name:"ListHeader",emits:["columnWidthUpdated"],setup(o,{emit:s}){const e=s,l=b("list");return(n,i)=>(r(),d("div",{class:"mb-2 grid items-center space-x-4 rounded bg-surface-gray-2 p-2",style:U({gridTemplateColumns:t(B)(t(l).columns,t(l).options.selectable)})},[t(l).options.selectable?(r(),f(V,{key:0,class:"cursor-pointer duration-300",modelValue:t(l).allRowsSelected,onClick:M(t(l).toggleAllRows,["stop"])},null,8,["modelValue","onClick"])):h("",!0),m(n.$slots,"default",{},()=>[(r(!0),d(L,null,H(t(l).columns,v=>(r(),f(le,{key:v.key,item:v,onColumnWidthUpdated:w=>e("columnWidthUpdated",v)},null,8,["item","onColumnWidthUpdated"]))),128))])],4))}},ne={class:"truncate text-base"},ie={__name:"ListRowItem",props:{column:{type:Object,default:{}},row:{type:Object,default:{}},item:{type:[String,Number,Object],default:""},align:{type:String,default:"left"}},setup(o){const s=o,e=g(()=>l(s.item).label||"");function l(i){return i&&typeof i=="object"?i:{label:i}}const n=b("list");return(i,v)=>(r(),f(j(t(n).options.showTooltip?t(D):"div"),k(S(t(n).options.showTooltip?{text:e.value}:{})),{default:A(()=>[u("div",{class:$(["flex items-center space-x-2",t(O)[o.align]])},[m(i.$slots,"prefix",{},()=>[o.column.prefix?(r(),f(j(typeof o.column.prefix=="function"?o.column.prefix({row:o.row}):o.column.prefix),{key:0})):h("",!0)]),m(i.$slots,"default",k(S({label:e.value})),()=>{var w;return[u("div",ne,z((w=o.column)!=null&&w.getLabel?o.column.getLabel({row:o.row}):e.value),1)]}),m(i.$slots,"suffix")],2)]),_:3},16))}},ae={key:0,class:"mx-2 h-px border-t border-outline-gray-1"},G={__name:"ListRow",props:{row:{type:Object,required:!0}},setup(o){const s=o,e=b("list"),l=g(()=>{var w;return(w=e.value.rows)!=null&&w.length?e.value.rows[e.value.rows.length-1][e.value.rowKey]===s.row[e.value.rowKey]:!1}),n=g(()=>e.value.selections.has(s.row[e.value.rowKey])),i=g(()=>e.value.options.getRowRoute||e.value.options.onRowClick),v=g(()=>typeof e.value.options.rowHeight=="number"?`${e.value.options.rowHeight}px`:e.value.options.rowHeight);return(w,R)=>(r(),f(j(t(e).options.getRowRoute?"router-link":"div"),_({class:[{"cursor-pointer":i.value},"flex flex-col transition-all duration-300 ease-in-out"]},{to:t(e).options.getRowRoute?t(e).options.getRowRoute(o.row):void 0,onClick:t(e).options.onRowClick?()=>t(e).options.onRowClick(o.row):void 0}),{default:A(()=>[(r(),f(j(t(e).options.getRowRoute?"template":"button"),{class:"[all:unset] hover:[all:unset]"},{default:A(()=>[u("div",{class:$(["grid items-center space-x-4 rounded px-2",[n.value?"bg-surface-gray-2":"",i.value?n.value?"hover:bg-surface-gray-3":"hover:bg-surface-menu-bar":""]]),style:U({height:v.value,gridTemplateColumns:t(B)(t(e).columns,t(e).options.selectable)})},[t(e).options.selectable?(r(),f(V,{key:0,modelValue:t(e).selections.has(o.row[t(e).rowKey]),onClick:R[0]||(R[0]=M(p=>t(e).toggleRow(o.row[t(e).rowKey]),["stop"])),class:"cursor-pointer duration-300"},null,8,["modelValue"])):h("",!0),(r(!0),d(L,null,H(t(e).columns,(p,c)=>(r(),d("div",{key:p.key,class:$([t(O)[p.align],c==0?"text-ink-gray-9":"text-ink-gray-7"])},[m(w.$slots,"default",_({ref_for:!0},{idx:c,column:p,item:o.row[p.key]}),()=>[t(e).slots.cell?(r(),f(j(t(e).slots.cell),_({key:0,ref_for:!0},{column:p,row:o.row,item:o.row[p.key],align:p.align}),null,16)):(r(),f(ie,{key:1,column:p,row:o.row,item:o.row[p.key],align:p.align},null,8,["column","row","item","align"]))])],2))),128))],6),l.value?h("",!0):(r(),d("div",ae))]),_:3}))]),_:3},16,["class"]))}},ue={class:"h-full overflow-y-auto"},ce={__name:"ListRows",setup(o){const s=b("list");return(e,l)=>(r(),d("div",ue,[m(e.$slots,"default",{},()=>[(r(!0),d(L,null,H(t(s).rows,n=>(r(),f(G,{key:n[t(s).rowKey],row:n},null,8,["row"]))),128))])]))}},de={},fe={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16"};function me(o,s){return r(),d("svg",fe,s[0]||(s[0]=[u("path",{fill:"currentColor",d:"M4.293 5.28h7.413a.5.5 0 0 1 .41.787l-3.707 5.295a.5.5 0 0 1-.82 0L3.884 6.067a.5.5 0 0 1 .41-.787Z"},null,-1)]))}const pe=F(de,[["render",me]]),we={class:"flex items-center"},ge={class:"w-full py-1.5 pr-2"},ye={key:1,class:"text-base font-medium leading-6"},ve={__name:"ListGroupHeader",props:{group:{type:Object,required:!0}},setup(o){const s=o,e=b("list");function l(){s.group.collapsed==null&&(s.group.collapsed=!1),s.group.collapsed=!s.group.collapsed}return(n,i)=>(r(),d(L,null,[u("div",we,[u("button",{onClick:l,class:"ml-[3px] mr-[11px] rounded p-1 hover:bg-surface-gray-2"},[C(pe,{class:$(["h-4 w-4 text-ink-gray-6 transition-transform duration-200",[o.group.collapsed?"-rotate-90":""]])},null,8,["class"])]),m(n.$slots,"default",{},()=>[u("div",ge,[t(e).slots["group-header"]?(r(),f(j(t(e).slots["group-header"]),k(_({key:0},{group:o.group})),null,16)):(r(),d("span",ye,z(o.group.group),1))])])]),i[0]||(i[0]=u("div",{class:"mx-2 h-px border-t border-outline-gray-modals"},null,-1))],64))}},he={key:0,class:"mb-5 mt-2"},be={__name:"ListGroupRows",props:{group:{type:Object,required:!0}},setup(o){const s=b("list");return(e,l)=>o.group.collapsed?h("",!0):(r(),d("div",he,[m(e.$slots,"default",{},()=>[(r(!0),d(L,null,H(o.group.rows,n=>(r(),f(G,{key:n[t(s).rowKey],row:n},null,8,["row"]))),128))])]))}},xe={class:"h-full overflow-y-auto"},ke={__name:"ListGroups",setup(o){const s=b("list");return(e,l)=>(r(),d("div",xe,[(r(!0),d(L,null,H(t(s).rows,n=>(r(),d("div",{key:n.group},[m(e.$slots,"default",{},()=>[C(ve,{group:n},{default:A(()=>[e.$slots["group-header"]?m(e.$slots,"group-header",_({key:0,ref_for:!0},{group:n})):h("",!0)]),_:2},1032,["group"]),C(be,{group:n},null,8,["group"])])]))),128))]))}},$e={key:0,class:"absolute inset-x-0 bottom-6 mx-auto w-max text-base"},Re={class:"flex flex-1 justify-between border-r border-outline-gray-2 text-ink-gray-9"},_e={class:"flex items-center space-x-3"},Ce={class:"mr-3"},Se={class:"flex items-center space-x-1"},Le=Object.assign({inheritAttrs:!1},{__name:"ListSelectBanner",setup(o){const s=b("list");let e=g(()=>{let l=s.value.selections.size===1?"Row":"Rows";return`${s.value.selections.size} ${l} selected`});return(l,n)=>(r(),f(P,{"enter-active-class":"duration-300 ease-out","enter-from-class":"transform opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-300 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0"},{default:A(()=>[t(s).selections.size?(r(),d("div",$e,[u("div",{class:$(["flex min-w-[596px] items-center space-x-3 rounded-lg bg-surface-white px-4 py-2 shadow-2xl",l.$attrs.class])},[m(l.$slots,"default",k(S({selections:t(s).selections,allRowsSelected:t(s).allRowsSelected,selectAll:()=>t(s).toggleAllRows(!0),unselectAll:()=>t(s).toggleAllRows(!1)})),()=>[u("div",Re,[u("div",_e,[C(V,{modelValue:!0,disabled:!0,class:"text-ink-gray-9"}),u("div",null,z(t(e)),1)]),u("div",Ce,[m(l.$slots,"actions",k(S({selections:t(s).selections,allRowsSelected:t(s).allRowsSelected,selectAll:()=>t(s).toggleAllRows(!0),unselectAll:()=>t(s).toggleAllRows(!1)})))])]),u("div",Se,[C(t(T),{class:$(["w- text-ink-gray-7",t(s).allRowsSelected?"cursor-not-allowed":""]),disabled:t(s).allRowsSelected,variant:"ghost",onClick:n[0]||(n[0]=i=>t(s).toggleAllRows(!0))},{default:A(()=>n[2]||(n[2]=[I(" Select all ")])),_:1},8,["disabled","class"]),C(t(T),{icon:"x",variant:"ghost",onClick:n[1]||(n[1]=i=>t(s).toggleAllRows(!1))})])])],2)])):h("",!0)]),_:3}))}}),je={class:"relative flex w-full flex-1 flex-col overflow-x-auto"},Ae=Object.assign({inheritAttrs:!1},{__name:"ListView",props:{columns:{type:Array,default:[]},rows:{type:Array,default:[]},rowKey:{type:String,required:!0},options:{type:Object,default:()=>({getRowRoute:null,onRowClick:null,showTooltip:!0,selectable:!0,resizeColumn:!1,rowHeight:40,emptyState:{title:"No Data",description:"No data available"}})}},emits:["update:selections"],setup(o,{expose:s,emit:e}){const l=o,n=X();let i=Z(new Set);const v=e;J(i,a=>{v("update:selections",a)});let w=g(()=>{function a(x){return x===void 0?!0:x}function y(x){return x===void 0?!1:x}return{getRowRoute:l.options.getRowRoute||null,onRowClick:l.options.onRowClick||null,showTooltip:a(l.options.showTooltip),selectable:a(l.options.selectable),resizeColumn:y(l.options.resizeColumn),rowHeight:l.options.rowHeight||40,emptyState:l.options.emptyState}});const R=g(()=>l.rows.length?c.value?i.size===l.rows.reduce((a,y)=>a+y.rows.length,0):i.size===l.rows.length:!1),p=g(()=>w.value.selectable);let c=g(()=>l.rows.every(a=>a.group&&a.rows&&Array.isArray(a.rows)));function W(a){i.delete(a)||i.add(a)}function K(a){if(!a||R.value){i.clear();return}if(c.value){l.rows.forEach(y=>{y.rows.forEach(x=>i.add(x[l.rowKey]))});return}l.rows.forEach(y=>i.add(y[l.rowKey]))}return Q("list",g(()=>({rowKey:l.rowKey,rows:l.rows,columns:l.columns,options:w.value,selections:i,allRowsSelected:R.value,slots:n,toggleRow:W,toggleAllRows:K}))),s({selections:i,allRowsSelected:R,toggleRow:W,toggleAllRows:K}),(a,y)=>(r(),d("div",je,[u("div",{class:$(["flex w-max min-w-full flex-col overflow-y-hidden",a.$attrs.class])},[m(a.$slots,"default",k(S({showGroupedRows:t(c),selectable:p.value})),()=>[C(re),l.rows.length?(r(),d(L,{key:0},[t(c)?(r(),f(ke,{key:0})):(r(),f(ce,{key:1}))],64)):(r(),f(se,{key:1})),p.value?(r(),f(Le,{key:2})):h("",!0)])],2)]))}});export{re as _,le as a,ce as b,G as c,ie as d,Le as e,Ae as f};
