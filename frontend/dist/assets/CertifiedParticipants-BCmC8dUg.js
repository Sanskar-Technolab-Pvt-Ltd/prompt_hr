import{r as p,s as B,o as N,c as b,a as L,u as j,b as M,d as r,e as n,f as s,g as l,k as e,m as u,_ as k,n as C,t as c,G as S,j as f,p as F,q as z,F as w,v as G,h as T,ar as U,B as q}from"./index-OSkjyhkw.js";import{_ as A}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-DdVHL6EX.js";const D={class:"sticky flex items-center justify-between top-0 z-10 border-b bg-surface-white px-3 py-2.5 sm:px-5"},E={class:"p-5 lg:w-3/4 mx-auto"},I={class:"flex flex-col lg:flex-row lg:items-center space-y-4 lg:space-y-0 justify-between mb-5"},O={class:"text-lg text-ink-gray-9 font-semibold"},R={class:"grid grid-cols-2 gap-2"},H={key:0,class:"min-w-40 lg:min-w-0 lg:w-32 xl:w-40"},J={key:0},K={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5"},Q={class:"flex items-center space-x-2 border rounded-md hover:bg-surface-menu-bar p-2 text-ink-gray-7"},W={class:"flex flex-col space-y-2"},X={class:"font-medium"},Y={key:0,class:"headline text-sm text-ink-gray-7"},Z={key:0,class:"flex justify-center mt-5"},ee={key:1,class:"flex flex-col items-center justify-center text-sm text-ink-gray-5 italic mt-48"},te={class:"text-lg font-medium mb-1"},se={class:"leading-5 w-2/5 text-center"},oe={__name:"CertifiedParticipants",setup(ae){const m=p(""),d=p({}),_=p(""),{brand:V}=B();N(()=>{g()});const o=b({doctype:"LMS Certificate",url:"lms.lms.api.get_certified_participants",cache:["certified_participants"],start:0,pageLength:30}),v=b({doctype:"LMS Certificate",url:"lms.lms.api.get_certification_categories",cache:["certification_categories"],auto:!0,transform(a){return a.unshift({label:__(""),value:""}),a}}),g=()=>{P(),o.update({filters:d.value}),o.reload()},P=()=>{m.value?d.value.category=m.value:delete d.value.category,_.value?d.value.member_name=["like",`%${_.value}%`]:delete d.value.member_name},$=L(()=>[{label:__("Certified Participants"),route:{name:"CertifiedParticipants"}}]);return j(()=>({title:__("Certified Participants"),icon:V.favicon})),(a,i)=>{var x,y;const h=M("router-link");return n(),r(w,null,[s("header",D,[l(e(A),{items:$.value},null,8,["items"]),l(h,{to:{name:"Batches"}},{default:u(()=>[l(e(k),null,{prefix:u(()=>[l(e(S),{class:"h-4 w-4 stroke-1.5"})]),default:u(()=>[C(" "+c(a.__("Get Certified")),1)]),_:1})]),_:1})]),s("div",E,[s("div",I,[s("div",O,c(a.__("All Certified Participants")),1),s("div",R,[l(e(F),{modelValue:_.value,"onUpdate:modelValue":i[0]||(i[0]=t=>_.value=t),placeholder:a.__("Search by Name"),type:"text",class:"min-w-40 lg:min-w-0 lg:w-32 xl:w-40",onInput:i[1]||(i[1]=t=>g())},null,8,["modelValue","placeholder"]),(x=e(v).data)!=null&&x.length?(n(),r("div",H,[l(e(z),{modelValue:m.value,"onUpdate:modelValue":i[2]||(i[2]=t=>m.value=t),options:e(v).data,placeholder:a.__("Category"),onChange:i[3]||(i[3]=t=>g())},null,8,["modelValue","options","placeholder"])])):f("",!0)])]),(y=e(o).data)!=null&&y.length?(n(),r("div",J,[s("div",K,[(n(!0),r(w,null,G(e(o).data,t=>(n(),T(h,{to:{name:"ProfileCertificates",params:{username:t.username}}},{default:u(()=>[s("div",Q,[l(e(U),{image:t.user_image,label:t.full_name,size:"2xl"},null,8,["image","label"]),s("div",W,[s("div",X,c(t.full_name),1),t.headline?(n(),r("div",Y,c(t.headline),1)):f("",!0)])])]),_:2},1032,["to"]))),256))]),!e(o).list.loading&&e(o).hasNextPage?(n(),r("div",Z,[l(e(k),{onClick:i[4]||(i[4]=t=>e(o).next())},{default:u(()=>[C(c(a.__("Load More")),1)]),_:1})])):f("",!0)])):e(o).list.loading?f("",!0):(n(),r("div",ee,[l(e(q),{class:"size-10 mx-auto stroke-1 text-ink-gray-4"}),s("div",te,c(a.__("No participants found")),1),s("div",se,c(a.__("There are no participants matching this criteria.")),1)]))])],64)}}};export{oe as default};
